"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[9851],{16191:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return m},default:function(){return d}});var n=t(58168),o=t(80045),s=(t(88763),t(15680)),i=t(83407);const p=["components"],m={},r={_frontmatter:m},l=i.A;function d(e){let{components:a}=e,t=(0,o.A)(e,p);return(0,s.mdx)(l,(0,n.A)({},r,t,{components:a,mdxType:"MDXLayout"}),(0,s.mdx)("h1",{id:"create-mask"},"Create Mask"),(0,s.mdx)("p",null,"This endpoint allows you to create a grayscale mask PNG file that you can composite onto the original image (or any other). The mask provides precise control over which parts of an image are affected by subsequent operations."),(0,s.mdx)("h2",{id:"getting-started-with-mask-creation"},"Getting started with mask creation"),(0,s.mdx)("p",null,"This endpoint allows you to create a grayscale mask PNG file that you can composite onto the original image (or any other)."),(0,s.mdx)("p",null,"Example of Image mask with a sample image:"),(0,s.mdx)("p",null,(0,s.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"802px"}},"\n      ",(0,s.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"33.125%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,s.mdx)("picture",{parentName:"span"},"\n          ",(0,s.mdx)("source",{parentName:"picture",srcSet:["/ffs-photoshop-API/static/ef387daebafebbca8c391d9261dd8926/5530d/imagecutout_mask_example.webp 320w","/ffs-photoshop-API/static/ef387daebafebbca8c391d9261dd8926/0c8fb/imagecutout_mask_example.webp 640w","/ffs-photoshop-API/static/ef387daebafebbca8c391d9261dd8926/66151/imagecutout_mask_example.webp 802w"],sizes:"(max-width: 802px) 100vw, 802px",type:"image/webp"}),"\n          ",(0,s.mdx)("source",{parentName:"picture",srcSet:["/ffs-photoshop-API/static/ef387daebafebbca8c391d9261dd8926/dd4a7/imagecutout_mask_example.png 320w","/ffs-photoshop-API/static/ef387daebafebbca8c391d9261dd8926/0f09e/imagecutout_mask_example.png 640w","/ffs-photoshop-API/static/ef387daebafebbca8c391d9261dd8926/6535c/imagecutout_mask_example.png 802w"],sizes:"(max-width: 802px) 100vw, 802px",type:"image/png"}),"\n          ",(0,s.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/ffs-photoshop-API/static/ef387daebafebbca8c391d9261dd8926/6535c/imagecutout_mask_example.png",alt:"alt image",title:"Original Image",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,s.mdx)("p",null,"The ",(0,s.mdx)("inlineCode",{parentName:"p"},"/mask")," API accepts a single input image to generate your mask. Using ",(0,s.mdx)("a",{parentName:"p",href:"https://github.com/AdobeDocs/cis-photoshop-api-docs/blob/main/sample_files/Example.jpg"},"Example.jpg"),", a typical cURL call might look like this:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-shell"},'curl -X POST \\\n  https://image.adobe.io/sensei/mask \\\n  -H "Authorization: Bearer $token"  \\\n  -H "x-api-key: $apiKey" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n   "input":{\n      "storage":"<your_storage>",\n      "href":"<SIGNED_GET_URL>"\n   },\n   "output":{\n      "storage":"<your_storage>",\n      "href":"<SIGNED_POST_URL>",\n      "mask":{\n         "format":"soft"\n      }\n   }\n}\'\n')),(0,s.mdx)("p",null,"This initiates an asynchronous job and returns a response containing the href to poll for job status and the JSON manifest."),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "_links": {\n        "self": {\n            "href": "https://image.adobe.io/sensei/status/e3a13d81-a462-4b71-9964-28b2ef34aca7"\n        }\n    }\n}\n')),(0,s.mdx)("p",null,"Using the job ID returned from the previous call you can poll on the returned ",(0,s.mdx)("inlineCode",{parentName:"p"},"/status")," href to get the job status:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-shell"},'curl -X GET \\\n  https://image.adobe.io/sensei/status/e3a13d81-a462-4b71-9964-28b2ef34aca7 \\\n  -H "Authorization: Bearer $token"  \\\n  -H "x-api-key: $apiKey" \\\n  -H "Content-Type: application/json"\n')),(0,s.mdx)("p",null,"Once the job is complete your successful ",(0,s.mdx)("inlineCode",{parentName:"p"},"/status")," response will look similar to the response below. The output will have been placed in your requested location. In the event of failure the errors will be shown instead:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "jobID": "e3a13d81-a462-4b71-9964-28b2ef34aca7",\n    "status": "succeeded",\n    "created": "2020-02-11T21:08:43.789Z",\n    "modified": "2020-02-11T21:08:48.492Z",\n    "input": "<SIGNED_GET_URL>",\n    "_links": {\n        "self": {\n            "href": "https://image.adobe.io/sensei/status/e3a13d81-a462-4b71-9964-28b2ef34aca7"\n        }\n    },\n    "output": {\n        "storage": "<your_storage>",\n        "href": "<SIGNED_POST_URL>",\n        "mask": {\n            "format": "soft"\n        }\n    }\n}\n')))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-create-mask-index-md-207fbac7121210996175.js.map