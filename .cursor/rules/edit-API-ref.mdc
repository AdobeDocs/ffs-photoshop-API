# API Reference Editing Guidelines

This rule provides comprehensive guidelines for editing and maintaining API reference JSON files, particularly OpenAPI/Swagger specifications.

## Tag Management

### Tag Structure
- **Use descriptive tag names** that clearly indicate the functionality
- **Include tag descriptions** that explain what operations are grouped under each tag
- **Follow consistent naming conventions** (e.g., "Remove background", "Masking")
- **Avoid generic tags** like "API" or "Photoshop" - use specific functional tags instead

### Tag Organization and Ordering
- **Order tags logically** - place most commonly used or core functionality first
- **Use "Common operations" or similar** for general/core endpoints that don't fit specialized categories
- **Group related functionality** under descriptive tag names
- **Ensure all endpoints have appropriate tags** - avoid empty tag arrays

### Tag Examples
```json
"tags": [
  {
    "name": "Common operations",
    "description": "General Photoshop API operations and utilities"
  },
  {
    "name": "Masking",
    "description": "Operations for creating and manipulating masks"
  },
  {
    "name": "Remove background", 
    "description": "AI-powered background removal and subject isolation operations"
  }
]
```

## Endpoint Summary Guidelines

### Format Requirements
- **Use sentence case**: First letter capitalized, rest lowercase
- **No trailing periods**
- **Remove "API" suffix** from summaries
- **Correct spelling and grammar**
- **Clear and descriptive** - should explain what the endpoint does
- **Consistent version formatting** - use lowercase for version numbers (e.g., "v1", "v2")

### Summary Examples
```json
// Good examples
"summary": "Remove background v1"
"summary": "Create mask"
"summary": "Extract document manifest"
"summary": "Apply photoshop edits"
"summary": "Product crop"
"summary": "Get status - v2"

// Bad examples
"summary": "Remove Background V1"  // Title case
"summary": "Create Mask API."      // Has "API" and period
"summary": "Prodct Crop"           // Spelling error
"summary": "Get status - V2"       // Inconsistent version capitalization
```

## Response Description Standards

### Formatting Requirements
- **Use Title Case for all response descriptions** (e.g., "Success", "Internal Server Error")
- **Maintain consistency across all status codes** (2xx, 4xx, 5xx)
- **Standardize common response descriptions** throughout the API

### Response Description Examples
```json
// Good examples - Title Case
"description": "Success"
"description": "Accepted"
"description": "Unauthorized"
"description": "Forbidden"
"description": "Bad Request"
"description": "Requested Resource Was Not Found"
"description": "Too Many Requests"
"description": "Internal Server Error"
"description": "Input Validation Error"
"description": "Trial Limit Exceeded Error"
"description": "Asset Link Invalid"
"description": "Unable To Upload Asset"

// Bad examples - Inconsistent casing
"description": "success"           // Lowercase
"description": "Internal server error"  // Mixed case
"description": "Too many requests"      // Sentence case
"description": "InputValidationError"   // No spaces
```

### Common Response Codes to Standardize
- **200/202**: "Success", "Accepted"
- **400**: "Bad Request", "Input Validation Error"
- **401**: "Unauthorized"
- **403**: "Forbidden"
- **404**: "Requested Resource Was Not Found"
- **429**: "Too Many Requests"
- **500**: "Internal Server Error"

## Content Quality and Consistency

### Description Content Standards
- **Remove trailing periods and extra spaces** from all descriptions
- **Fix spelling errors** (e.g., "returrn" â†’ "return")
- **Use consistent terminology** across similar endpoints
- **Maintain professional tone** in all descriptions

### Parameter Description Standards
- **Remove leading spaces** from parameter descriptions
- **Remove trailing periods** from parameter descriptions
- **Use consistent formatting** for similar parameters
- **Provide clear, actionable descriptions**

### Content Review Checklist
- [ ] All response descriptions use Title Case
- [ ] No trailing periods in descriptions
- [ ] No leading spaces in parameter descriptions
- [ ] Spelling errors corrected
- [ ] Consistent terminology used
- [ ] All endpoints have appropriate tags
- [ ] Summary formatting follows sentence case guidelines

## Schema Management

### Schema Naming
- **Use descriptive, consistent naming** (e.g., `PhotoroomRemoveBackgroundRequest`)
- **Follow camelCase** for property names
- **Use clear, specific names** that indicate the purpose

### Schema Organization
- **Group related schemas** together in the components section
- **Avoid duplicate schema definitions**
- **Use proper references** with `$ref` syntax
- **Include comprehensive descriptions** for complex schemas

## Endpoint Structure

### Required Elements
- **Proper tags** assignment
- **Clear summary** following guidelines
- **Descriptive operationId** (camelCase)
- **Comprehensive description** explaining functionality
- **Complete request/response schemas**
- **Proper error handling** with appropriate HTTP status codes

### Authentication
- **Include required authentication parameters** (Authorization, x-api-key)
- **Document authentication requirements** clearly
- **Use consistent parameter naming**

## Error Handling

### Standard Error Responses
Include these common error responses:
- **400** - Bad Request (Input Validation Error)
- **401** - Unauthorized
- **403** - Forbidden
- **404** - Requested Resource Was Not Found
- **429** - Too Many Requests
- **500** - Internal Server Error

### Error Schema Structure
```json
"JobError": {
  "type": "object",
  "properties": {
    "error_code": {
      "type": "string",
      "description": "The error code"
    },
    "message": {
      "type": "string", 
      "description": "The error message"
    }
  }
}
```

## Version Management

### Endpoint Versioning
- **Use clear version indicators** in summaries (e.g., "v1", "v2 (beta)")
- **Maintain backward compatibility** when possible
- **Document version differences** in descriptions
- **Use consistent version formatting** (lowercase "v1", "v2")

### Version Examples
```json
"summary": "Remove background v1"
"summary": "Remove background v2 (beta)"
"summary": "Get status - v2"
```

## File Organization

### Structure Guidelines
- **Maintain logical endpoint grouping** by functionality
- **Keep related endpoints together** (e.g., main endpoint + status endpoint)
- **Organize schemas alphabetically** or by functional groups
- **Use consistent indentation** and formatting

### Required Sections
```json
{
  "openapi": "3.0.3",
  "info": { /* API metadata */ },
  "servers": [ /* Server configurations */ },
  "tags": [ /* Tag definitions */ ],
  "paths": { /* Endpoint definitions */ },
  "components": {
    "schemas": { /* Data models */ },
    "headers": { /* Custom headers */ },
    "securitySchemes": { /* Authentication */ }
  },
  "security": [ /* Global security */ ]
}
```

## Quality Checks

### Before Committing Changes
1. **Validate JSON syntax** - ensure valid JSON structure
2. **Check for duplicate schemas** - avoid naming conflicts
3. **Verify all $ref references** - ensure they point to existing schemas
4. **Review tag consistency** - ensure proper tagging across endpoints
5. **Test summary formatting** - follow sentence case, no periods, no "API"
6. **Validate OpenAPI specification** - use tools like Swagger Editor
7. **Review response descriptions** - ensure Title Case consistency
8. **Check for content formatting issues** - remove trailing periods, fix spacing

### Common Issues to Avoid
- **Empty tag arrays** - assign appropriate tags or remove empty arrays
- **Inconsistent naming** - use consistent patterns across similar endpoints
- **Missing descriptions** - provide clear descriptions for all elements
- **Incomplete error handling** - include appropriate error responses
- **Spelling errors** - proofread all text content
- **Inconsistent response description casing** - use Title Case for all responses
- **Trailing periods and spaces** - remove from all descriptions
- **Mixed version formatting** - use consistent lowercase version numbers

## Documentation Standards

### Description Guidelines
- **Use clear, concise language**
- **Explain the purpose and functionality**
- **Include usage examples** where helpful
- **Document limitations or requirements**
- **Reference related endpoints** when applicable
- **Remove trailing periods and extra spaces**
- **Use consistent terminology**

### Example Description
```json
"description": "This endpoint allows you to remove the background from an image. The request is processed asynchronously and the status of the running job can be checked with the Get Status endpoint"
```

## Best Practices

### General Guidelines
1. **Maintain consistency** across all endpoints
2. **Follow OpenAPI 3.0 specification** standards
3. **Use descriptive names** for all elements
4. **Include comprehensive documentation**
5. **Test the specification** with validation tools
6. **Review changes** before committing
7. **Keep schemas DRY** - avoid duplication
8. **Use proper data types** and constraints
9. **Standardize response descriptions** to Title Case
10. **Organize tags logically** with core operations first

### Naming Conventions
- **Endpoints**: Use descriptive paths (e.g., `/v2/remove-background`)
- **Schemas**: Use PascalCase with descriptive names
- **Properties**: Use camelCase
- **Tags**: Use sentence case, descriptive names
- **Summaries**: Use sentence case, no periods, no "API"
- **Response descriptions**: Use Title Case
- **Version numbers**: Use lowercase (v1, v2, v3)

### Lessons Learned from Photoshop API Updates
- **Tag organization matters** - "Common operations" provides clear categorization for core endpoints
- **Response description consistency** - Title Case standardization improves readability
- **Content formatting** - Removing trailing periods and fixing spacing improves professionalism
- **Version consistency** - Lowercase version numbers (v1, v2) are more readable
- **Spelling accuracy** - Even minor typos (like "returrn") should be corrected
- **Parameter description formatting** - Consistent spacing and punctuation improves clarity

---
description: API Reference editing guidelines with lessons learned from Photoshop API updates
globs: 
alwaysApply: false
---
