"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[4687],{59343:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return s},default:function(){return c}});var o=a(58168),n=a(80045),i=(a(88763),a(15680)),r=a(83407);const p=["components"],s={},d=(l="InlineAlert",function(e){return console.warn("Component "+l+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)});var l;const m={_frontmatter:s},u=r.A;function c(e){let{components:t}=e,a=(0,n.A)(e,p);return(0,i.mdx)(u,(0,o.A)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"remove-background"},"Remove Background"),(0,i.mdx)("p",null,"This API uses advanced AI to automatically detect and isolate the main subject of an image and remove the background."),(0,i.mdx)("h2",{id:"overview"},"Overview"),(0,i.mdx)(d,{variant:"warning",slots:"header, text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"V1 is deprecated."),(0,i.mdx)("p",null,"The Remove Background V1 API (/sensei/cutout) is deprecated. Although these workflow examples use the ",(0,i.mdx)("inlineCode",{parentName:"p"},"/cutout")," endpoint, any current implementations should migrate to Remove Background V2 API (/v2/remove-background) by referring to ",(0,i.mdx)("a",{parentName:"p",href:"#migrating-to-remove-background-v2"},"the V2 migration instructions below")," to avoid interruptions."),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"/cutout")," endpoint can recognize the subject of an image and eliminate the background, providing the subject as the output."),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"774px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.06249999999999%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/ffs-photoshop-API/static/b161506ba2b3c65a49cfb7a0563a5d65/5530d/imagecutout_cutout_example.webp 320w","/ffs-photoshop-API/static/b161506ba2b3c65a49cfb7a0563a5d65/0c8fb/imagecutout_cutout_example.webp 640w","/ffs-photoshop-API/static/b161506ba2b3c65a49cfb7a0563a5d65/04a2c/imagecutout_cutout_example.webp 774w"],sizes:"(max-width: 774px) 100vw, 774px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/ffs-photoshop-API/static/b161506ba2b3c65a49cfb7a0563a5d65/dd4a7/imagecutout_cutout_example.png 320w","/ffs-photoshop-API/static/b161506ba2b3c65a49cfb7a0563a5d65/0f09e/imagecutout_cutout_example.png 640w","/ffs-photoshop-API/static/b161506ba2b3c65a49cfb7a0563a5d65/d1716/imagecutout_cutout_example.png 774w"],sizes:"(max-width: 774px) 100vw, 774px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/ffs-photoshop-API/static/b161506ba2b3c65a49cfb7a0563a5d65/d1716/imagecutout_cutout_example.png",alt:"alt image",title:"Original Image",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("p",null,"Use the following cURL command to remove the background from an image:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},'curl -X POST \\\n  https://image.adobe.io/sensei/cutout \\\n  -H "Authorization: Bearer $token"  \\\n  -H "x-api-key: $apiKey" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n   "input":{\n      "storage":"<your_storage>",\n      "href":"<signed_get_url>"\n   },\n   "output":{\n      "storage":"<your_storage>",\n      "href":"<signed_post_url>",\n      "mask":{\n         "format":"soft"\n      }\n   }\n}\'\n')),(0,i.mdx)("p",null,"This initiates an asynchronous job and returns a response containing an href. Use the value in the href to ",(0,i.mdx)("a",{parentName:"p",href:"/ffs-photoshop-API/guides/get_job_status/"},"poll for the status of the job"),"."),(0,i.mdx)("h2",{id:"customized-workflow"},"Customized workflow"),(0,i.mdx)("p",null,"This customized workflow is for users who'd like to generate remove background results as a Photoshop path instead of a regular mask. You'll need to chain API calls to Remove Background service and Photoshop Service."),(0,i.mdx)("p",null,"You'll need to open the result in the Photoshop Desktop application to see the path in the path panel."),(0,i.mdx)("p",null,"You can ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/AdobeDocs/cis-photoshop-api-docs/tree/main/sample-code/ic-customized-workflow-app"},"download the sample end-to-end bash script")," and follow the comments to try out this customized workflow."),(0,i.mdx)("p",null,"Sample input and output:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://github.com/AdobeDocs/cis-photoshop-api-docs/blob/main/sample_files/ic_customized_workflow/input.jpg"},"Download the sample input file"),"."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://github.com/AdobeDocs/cis-photoshop-api-docs/blob/main/sample_files/ic_customized_workflow/result_with_path.jpg"},"Download the sample output file"),".")),(0,i.mdx)("h3",{id:"implementation-steps"},"Implementation steps"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("a",{parentName:"li",href:"https://github.com/AdobeDocs/cis-photoshop-api-docs/blob/main/sample_files/ic_customized_workflow/make-path.atn"},"Download the make-file.atn file"),". This file will be used in the Photoshop action API call."),(0,i.mdx)("li",{parentName:"ol"},"Make the first API call to the Remove Background service to generate an intermediate result as RGBA remove background."),(0,i.mdx)("li",{parentName:"ol"},"Make the second API call to the Photoshop Action service to use the intermediate result as well as the make-file.atn file to generate a final JPEG format result with the desired Photoshop path embedded."),(0,i.mdx)("li",{parentName:"ol"},"Open the final result with the Photoshop Desktop app to check the generated path in the path panel.")),(0,i.mdx)("h2",{id:"migrating-to-remove-background-v2"},"Migrating to Remove Background V2"),(0,i.mdx)("p",null,"The Remove Background V1 API (",(0,i.mdx)("a",{parentName:"p",href:"https://image.adobe.io/sensei/cutout"},"https://image.adobe.io/sensei/cutout"),") used in these example workflows is deprecated. To avoid service interruptions, migrate to Remove Background V2 API (",(0,i.mdx)("a",{parentName:"p",href:"https://image.adobe.io/v2/remove-background"},"https://image.adobe.io/v2/remove-background"),") by referring to these steps and considerations."),(0,i.mdx)("h3",{id:"step-1-update-the-endpoint-and-payload"},"Step 1: Update the endpoint and payload"),(0,i.mdx)("p",null,"Update your Remove Background endpoint from ",(0,i.mdx)("inlineCode",{parentName:"p"},"/sensei/cutout")," to ",(0,i.mdx)("inlineCode",{parentName:"p"},"/v2/remove-background"),"."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"V1 Payload:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},'curl -i -X POST \\\n  https://image.adobe.io/sensei/cutout \\\n  -H \'Content-Type: application/json\' \\\n  -H \'x-api-key: YOUR_API_KEY_HERE\' \\\n  -H \'x-gw-ims-org-id: string\' \\\n  -d \'{\n    "input": {\n      "href": "string",\n      "storage": "external"\n    },\n    "output": {\n      "href": "string",\n      "storage": "external",\n      "mask": {\n        "format": "binary"\n      },\n      "color": {\n        "space": "rgb"\n      },\n      "overwrite": true\n    }\n  }\'\n')),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"V2 Payload:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-shell"},'curl -i -X POST \\\n  https://image.adobe.io/v2/remove-background \\\n  -H \'Authorization: string\' \\\n  -H \'Content-Type: application/json\' \\\n  -H \'x-api-key: YOUR_API_KEY_HERE\' \\\n  -d \'{\n    "image": {\n      "source": {\n        "url": "string"\n      }\n    },\n    "mode": "cutout",\n    "output": {\n      "mediaType": "image/jpeg"\n    },\n    "trim": false,\n    "backgroundColor": {\n      "red": 255,\n      "green": 255,\n      "blue": 255,\n      "alpha": 1\n    },\n    "colorDecontamination": 1\n  }\'\n')),(0,i.mdx)("h3",{id:"step-2-test-your-integration"},"Step 2: Test your integration"),(0,i.mdx)("p",null,"Be sure to:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"Run your workflow against the V2 endpoint.")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"Check that the outputs are correct; V2 includes improved post-processing for cleaner edges and reduced matting."))),(0,i.mdx)("h3",{id:"step-3-deploy-the-change"},"Step 3: Deploy the change"),(0,i.mdx)("p",null,"To deploy the change:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"Update production systems with the V2 endpoint and payload.")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"Monitor results for any errors or issues."))),(0,i.mdx)("h3",{id:"notes-for-developers"},"Notes for developers"),(0,i.mdx)("p",null,"Be aware that the V2 endpoint uses a slightly different payload structure.\nEnsure that ",(0,i.mdx)("inlineCode",{parentName:"p"},"image.source.url")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"output.mediaType")," are set correctly."),(0,i.mdx)("p",null,"Optional parameters like ",(0,i.mdx)("inlineCode",{parentName:"p"},"trim")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"colorDecontamination")," are available in V2 for enhanced output quality."),(0,i.mdx)("p",null,"The latest technical information is always available on ",(0,i.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/firefly-services/docs/photoshop/api/#operation/removeBackground"},"the API reference documentation"),"."),(0,i.mdx)("p",null,"For support, contact your Adobe Customer Success Manager."))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-remove-background-index-md-59fbf05d7464d8d5b1a9.js.map