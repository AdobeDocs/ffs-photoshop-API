{"version":3,"file":"component---src-pages-guides-triggering-an-event-index-md-1f9f6cf1144b244c2eef.js","mappings":"0TAMaA,EAAe,CAAC,EACvBC,EAAc,CAClBD,gBAEIE,EAAYC,EAAAA,EACH,SAASC,EAAUC,GAG/B,IAHgC,WACjCC,GAEDD,EADIE,GAAKC,EAAAA,EAAAA,GAAAH,EAAAI,GAER,OAAOC,EAAAA,EAAAA,KAACR,GAASS,EAAAA,EAAAA,GAAA,GAAKV,EAAiBM,EAAK,CAAED,WAAYA,EAAYM,QAAQ,eAG5EF,EAAAA,EAAAA,KAAA,MACE,GAAM,qCACJ,sCACJA,EAAAA,EAAAA,KAAA,SAAI,8JAA6JA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,sCAAmD,mLAChPH,EAAAA,EAAAA,KAAA,MACE,GAAM,8DACJ,gEACJA,EAAAA,EAAAA,KAAA,MACE,GAAM,0DACJ,6DACJA,EAAAA,EAAAA,KAAA,SAAI,QAAOA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,qBAAkC,sTACzEH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,kBACX,qWAeNH,EAAAA,EAAAA,KAAA,SAAI,gIACJA,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,2KAQNH,EAAAA,EAAAA,KAAA,MACE,GAAM,sFACJ,yFACJA,EAAAA,EAAAA,KAAA,SAAI,yBAAwBA,EAAAA,EAAAA,KAAA,cAAYG,WAAW,KAAK,QAAqB,yHAC7EH,EAAAA,EAAAA,KAAA,YAAKA,EAAAA,EAAAA,KAAA,QAAMG,WAAW,MAClB,UAAa,iBACX,sxDAmEV,CAEAT,EAAWU,gBAAiB,C","sources":["webpack://dev-site-documentation-template/./src/pages/guides/triggering_an_event/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/ffs-photoshop-API/ffs-photoshop-API/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"triggering-an-event-from-the-apis\"\n    }}>{`Triggering an Event from the APIs`}</h1>\n    <p>{`In order to start receiving the events in your Webhook Application, the additional thing that needs to be done is to pass in your IMS ORG ID in a header: `}<inlineCode parentName=\"p\">{`x-gw-ims-org-id: <YOUR_IMS_ORG_ID>`}</inlineCode>{`, when you make an API call to initiate a job. Please have a look at the example below that demonstrates the usage of the new header and a sample event received for that job.`}</p>\n    <h2 {...{\n      \"id\": \"example-1-retrieving-a-psd-manifest-from-the-photoshop-api\"\n    }}>{`Example 1: Retrieving a PSD manifest from the Photoshop API`}</h2>\n    <h3 {...{\n      \"id\": \"step-1-initiate-a-job-to-retrieve-a-psds-json-manifest\"\n    }}>{`Step 1: Initiate a job to retrieve a PSD's JSON manifest`}</h3>\n    <p>{`The `}<inlineCode parentName=\"p\">{`/documentManifest`}</inlineCode>{` api can take one or more input PSD's to generate JSON manifest files from. The JSON manifest is the tree representation of all of the layer objects contained in the PSD document. Using Example.psd, with the use case of a document stored in your external storage, a typical curl call might look like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`curl -X POST \\\\\n  https://image.adobe.io/pie/psdService/documentManifest \\\\\n  -H \"Authorization: Bearer $token\"  \\\\\n  -H \"x-api-key: $apiKey\" \\\\\n  -H \"Content-Type: application/json\" \\\\\n  -H 'x-gw-ims-org-id: <YOUR_IMS_ORG_ID>' \\\\\n  -d '{\n  \"inputs\": [\n    {\n      \"href\":\"<SIGNED_GET_URL>\",\n      \"storage\":\"<storage>\"\n    }\n  ]\n}'\n`}</code></pre>\n    <p>{`This initiates an asynchronous job and returns a response containing the href to poll for job status and the JSON manifest.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"_links\": {\n        \"self\": {\n            \"href\": \"https://image.adobe.io/pie/psdService/status/63c6e812-6cb8-43de-8a60-3681a9ec6feb\"\n        }\n    }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"step-2-receive-the-jobs-status-on-the-webhook-application-when-the-job-is-complete\"\n    }}>{`Step 2: Receive the Job's status on the Webhook application when the job is complete`}</h3>\n    <p>{`The value in the key `}<inlineCode parentName=\"p\">{`body`}</inlineCode>{` inside the event JSON contains the result of the job. Here is a sample event received from the job initiated above:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"event_id\": \"b412a90e-8bc0-4f0d-931e-9e9b8d24993d\",\n  \"event\": {\n    \"header\": {\n      \"msgType\": \"JOB_COMPLETION_STATUS\",\n      \"msgId\": \"8afa1a46-2733-406c-a646-e1c1acdee333\",\n      \"imsOrgId\": \"<YOUR_IMS_ORG_ID>\",\n      \"eventCode\": \"photoshop-job-status\",\n      \"_pipelineMeta\": {\n        \"pipelineMessageId\": \"1586288145511:631472:VA7_A1:142:0\"\n      },\n      \"_smarts\": {\n        \"definitionId\": \"3ee6c9056a9d72fc40e09ddf5fdbb0af752e8e49\",\n        \"runningSmartId\": \"psmart-yw6wosjksniuuathenny\"\n      },\n      \"_adobeio\": {\n        \"imsOrgId\": \"<YOUR_IMS_ORG_ID>\",\n        \"providerMetadata\": \"di_event_code\",\n        \"eventCode\": \"photoshop-job-status\"\n      }\n    },\n    \"body\": {\n      \"jobId\": \"63c6e812-6cb8-43de-8a60-3681a9ec6feb\",\n      \"outputs\": [\n        {\n          \"status\": \"succeeded\",\n          \"layers\": [\n            {\n              \"id\": 2,\n              \"index\": 0,\n              \"type\": \"layer\",\n              \"name\": \"Layer\",\n              \"locked\": false,\n              \"visible\": true,\n              \"bounds\": {\n                \"top\": 0,\n                \"left\": 0,\n                \"width\": 100,\n                \"height\": 100\n              },\n              \"blendOptions\": {\n                \"opacity\": 100,\n                \"mode\": \"normal\"\n              }\n            }\n          ],\n          \"document\": {\n            \"name\": \"test.psd\",\n            \"width\": 1000,\n            \"height\": 1000,\n            \"bitDepth\": 8,\n            \"imageMode\": \"rgb\",\n            \"photoshopBuild\": \"Adobe Creative Imaging Service\"\n          }\n        }\n      ],\n      \"_links\":{\n        \"self\":{\n          \"href\":\"https://image.adobe.io/pie/psdService/status/8ec6e4f5-b580-41ac-b693-a72f150fec59\"\n        }\n      }\n    }\n  }\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutProperties","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}