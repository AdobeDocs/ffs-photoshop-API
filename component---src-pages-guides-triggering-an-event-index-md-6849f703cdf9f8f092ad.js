"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[9729],{80343:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return r},default:function(){return l}});var a=t(58168),o=t(80045),s=(t(88763),t(15680)),i=t(83407);const d=["components"],r={},p={_frontmatter:r},m=i.A;function l(e){let{components:n}=e,t=(0,o.A)(e,d);return(0,s.mdx)(m,(0,a.A)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,s.mdx)("h1",{id:"triggering-an-event"},"Triggering an Event"),(0,s.mdx)("p",null,"Trigger webhook events from the Photoshop API by including your IMS ORG ID in API calls."),(0,s.mdx)("h2",{id:"receive-events"},"Receive events"),(0,s.mdx)("p",null,"To understand what webhook events are and how to set up your application to use them, start with ",(0,s.mdx)("a",{parentName:"p",href:"../../getting_started/webhooks/"},"the page on using webhooks and events"),"."),(0,s.mdx)("p",null,"To receive Photoshop events in your webhook application, pass the IMS ORG ID in a header when you make an API call to initiate a job:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-shell"},"-H 'x-gw-ims-org-id: <YOUR_IMS_ORG_ID>'\n")),(0,s.mdx)("h2",{id:"retrieving-a-psd-manifest"},"Retrieving a PSD manifest"),(0,s.mdx)("p",null,"The ",(0,s.mdx)("inlineCode",{parentName:"p"},"/documentManifest")," API can take one or more input PSDs and generate JSON manifest files from them. The JSON manifest provides a representation of all the layer objects contained in the PSD document."),(0,s.mdx)("p",null,"Using ",(0,s.mdx)("inlineCode",{parentName:"p"},"Example.psd"),", with the use case of a document stored in your external storage, a typical cURL call might look like this:"),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-shell"},'curl -X POST \\\n  https://image.adobe.io/pie/psdService/documentManifest \\\n  -H "Authorization: Bearer $token"  \\\n  -H "x-api-key: $apiKey" \\\n  -H "Content-Type: application/json" \\\n  -H \'x-gw-ims-org-id: <YOUR_IMS_ORG_ID>\' \\\n  -d \'{\n  "inputs": [\n    {\n      "href":"<SIGNED_GET_URL>",\n      "storage":"<storage>"\n    }\n  ]\n}\'\n')),(0,s.mdx)("p",null,"This initiates an asynchronous job and returns a response containing the href to ",(0,s.mdx)("a",{parentName:"p",href:"/ffs-photoshop-API/guides/get_job_status/"},"poll for job status and the JSON manifest"),"."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Example response:")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "_links": {\n        "self": {\n            "href": "https://image.adobe.io/pie/psdService/status/63c6e812-6cb8-43de-8a60-3681a9ec6feb"\n        }\n    }\n}\n')),(0,s.mdx)("h2",{id:"receive-the-jobs-status-on-the-webhook-application"},"Receive the job's status on the webhook application"),(0,s.mdx)("p",null,"The value in the ",(0,s.mdx)("inlineCode",{parentName:"p"},"body")," field contains the result of the job."),(0,s.mdx)("p",null,(0,s.mdx)("strong",{parentName:"p"},"Example response:")),(0,s.mdx)("pre",null,(0,s.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "event_id": "b412a90e-8bc0-4f0d-931e-9e9b8d24993d",\n  "event": {\n    "header": {\n      "msgType": "JOB_COMPLETION_STATUS",\n      "msgId": "8afa1a46-2733-406c-a646-e1c1acdee333",\n      "imsOrgId": "<YOUR_IMS_ORG_ID>",\n      "eventCode": "photoshop-job-status",\n      "_pipelineMeta": {\n        "pipelineMessageId": "1586288145511:631472:VA7_A1:142:0"\n      },\n      "_smarts": {\n        "definitionId": "3ee6c9056a9d72fc40e09ddf5fdbb0af752e8e49",\n        "runningSmartId": "psmart-yw6wosjksniuuathenny"\n      },\n      "_adobeio": {\n        "imsOrgId": "<YOUR_IMS_ORG_ID>",\n        "providerMetadata": "di_event_code",\n        "eventCode": "photoshop-job-status"\n      }\n    },\n    "body": {\n      "jobId": "63c6e812-6cb8-43de-8a60-3681a9ec6feb",\n      "outputs": [\n        {\n          "status": "succeeded",\n          "layers": [\n            {\n              "id": 2,\n              "index": 0,\n              "type": "layer",\n              "name": "Layer",\n              "locked": false,\n              "visible": true,\n              "bounds": {\n                "top": 0,\n                "left": 0,\n                "width": 100,\n                "height": 100\n              },\n              "blendOptions": {\n                "opacity": 100,\n                "mode": "normal"\n              }\n            }\n          ],\n          "document": {\n            "name": "test.psd",\n            "width": 1000,\n            "height": 1000,\n            "bitDepth": 8,\n            "imageMode": "rgb",\n            "photoshopBuild": "Adobe Creative Imaging Service"\n          }\n        }\n      ],\n      "_links":{\n        "self":{\n          "href":"https://image.adobe.io/pie/psdService/status/8ec6e4f5-b580-41ac-b693-a72f150fec59"\n        }\n      }\n    }\n  }\n}\n')))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-triggering-an-event-index-md-6849f703cdf9f8f092ad.js.map